(this["webpackJsonpadd-bidder-example"]=this["webpackJsonpadd-bidder-example"]||[]).push([[0],{10:function(e,t,i){e.exports=i(18)},11:function(e,t,i){},16:function(e,t,i){},18:function(e,t,i){"use strict";i.r(t);i(11);var a=i(0),n=i.n(a),u=i(9),s=i.n(u),r=(i(16),i(7)),l=i(5),c=i(4),o=i(1),d=i.n(o),m=i(2),p=Object(a.createContext)({advertisers:[],registerAdd:function(){},addConversion:function(){}}),v="_styles-module__add__2cHmE",f="_styles-module__add_label__3Ye3t",b="_styles-module__add_img__uRz1r",g=function(){var e=Object(m.a)(d.a.mark((function e(t,i,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("exclude",i),e.next=3,fetch("http://localhost:3001".concat("/advertisers?count=",t,"&clientId=").concat(a));case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})));return function(t,i,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(d.a.mark((function e(t,i){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001".concat("/advertisers/",t,"/advertise?size=").concat(i,"&random=true"));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(d.a.mark((function e(t,i){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001".concat("/advertise/",t,"/conversion"),{method:"POST",body:JSON.stringify({clientId:i})});case 2:return a=e.sent,e.abrupt("return",a.ok);case 4:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}(),E={banner:{width:468,height:60}},S=function(e){var t=Object(a.useContext)(p),i=t.registerAdd,u=t.advertisers,s=t.addConversion,r=Object(a.useState)(),l=Object(c.a)(r,2),o=l[0],g=l[1],q=Object(a.useState)(!1),S=Object(c.a)(q,2),j=S[0],x=S[1],O=Object(a.useState)(),y=Object(c.a)(O,2),N=y[0],_=y[1],k=e.size,w=E[k],I=function(){var e=Object(m.a)(d.a.mark((function e(t){var i,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=t.advertiser,e.next=4,h(i,k);case 4:a=e.sent,_(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var t=e.addKey||"".concat(Math.floor(1e6*Math.random()));i(t),g(t)}),[]),Object(a.useEffect)((function(){var e=u.find((function(e){return e.addKey===o}));e&&!N&&I(e)}),[u,o]),n.a.createElement("a",{className:v,style:{width:w.width,height:w.height,display:"inline-block"},id:o,href:N&&N.url,target:"_blank",rel:"noreferrer",onClick:function(){N&&s(N.uid)},"data-test-id":"add-block"},j&&n.a.createElement("span",{"data-test-id":"add-block-placeholder",className:f},"Ad"),j?null:n.a.createElement("img",{"data-test-id":"add-block-dummy-image",decoding:"async",src:"https://via.placeholder.com/".concat(w.width,"x").concat(w.height,".png?text=AD")}),N&&n.a.createElement("img",{decoding:"async",onLoad:function(){return x(!0)},className:b,src:N.img,alt:N.title,style:{visibility:j?"visible":"hidden"},"data-test-id":"add-block-img"}))},j=function(e,t){var i=t.type,a=t.payload;switch(i){case"GET_ADVERTISER_REQUEST":return Object(l.a)(Object(l.a)({},e),{},{addSlots:[].concat(Object(r.a)(e.addSlots),[a])});case"SET_ADVERTISERS":return Object(l.a)(Object(l.a)({},e),{},{advertisers:[].concat(Object(r.a)(e.advertisers),Object(r.a)(t.payload)),addSlots:[]});default:return e}},x={advertisers:[],addSlots:[]},O=function(e){var t=e.clientId,i=e.children,u=Object(a.useReducer)(j,x),s=Object(c.a)(u,2),r=s[0],l=s[1],o=r.advertisers,v=r.addSlots,f=function(){var e=Object(m.a)(d.a.mark((function e(i){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(i,t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(m.a)(d.a.mark((function e(i){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(i.length,o,t);case 3:a=e.sent,n=a.map((function(e,t){return{advertiser:e,addKey:i[t]}})),l({type:"SET_ADVERTISERS",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t||console.error("clientId is required.")}),[]),Object(a.useEffect)((function(){t&&v.length>0&&b(v)}),[v,t]),n.a.createElement("div",null,n.a.createElement(p.Provider,{value:{advertisers:o,registerAdd:function(e){l({type:"GET_ADVERTISER_REQUEST",payload:e})},addConversion:f}},i))},y=function(){return n.a.createElement("main",null,n.a.createElement("header",null,n.a.createElement("h1",null,"Add Bidder Demo ")),n.a.createElement(S,{size:"banner"}),n.a.createElement("div",{className:"articles"},n.a.createElement("article",{className:"card"},n.a.createElement("h3",null,"Lorem ipsum "),n.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin interdum nunc quam, et tincidunt nunc lobortis at. Vivamus vestibulum sagittis dapibus. Integer in ante tortor. Aliquam nec dolor neque. In magna massa, ultricies et risus a, efficitur consequat magna. Nunc varius lorem nisi. Aliquam fermentum maximus cursus. Integer eget nisl vitae magna vehicula ultricies. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Morbi malesuada in sapien sed commodo. Pellentesque vitae ornare magna. Aenean at nulla vitae mauris sollicitudin faucibus. Vivamus feugiat leo eget neque vestibulum, in elementum mi congue. Suspendisse pharetra, diam et vestibulum rhoncus, velit magna feugiat arcu, at cursus risus urna sed libero. Sed gravida, nulla in molestie auctor, nulla ex vulputate est, id viverra ligula ipsum quis felis. Curabitur purus erat, faucibus ut odio id, consectetur eleifend risus. Etiam nec turpis sed urna aliquet blandit. Ut in volutpat enim. Nunc tincidunt ex nulla, quis bibendum nibh ullamcorper in. Ut aliquam bibendum odio, vel interdum justo ullamcorper vel. Nulla eu cursus felis. Sed eget enim id lectus mattis eleifend nec vitae nisi. Sed metus urna, eleifend id scelerisque dictum, commodo a purus. Integer eget consequat nisl. Proin id ipsum luctus, sollicitudin risus nec, vulputate ipsum. Nulla in dui sit amet lectus pulvinar fringilla id sed elit. Quisque quis dolor dignissim, mattis odio quis, porttitor velit. Etiam sodales purus vitae elit suscipit, ut laoreet nisl blandit. Nunc sem leo, dictum ut dignissim ac, feugiat et ex. Sed in tincidunt turpis. Sed fermentum dui vel tellus semper, vel porttitor neque aliquam. Nulla aliquam rhoncus justo. Sed nulla purus, consectetur vitae erat eget, pharetra ullamcorper risus. Suspendisse ac ligula non lectus fermentum dignissim. Duis congue erat ac est blandit tempor. Donec fringilla nisi finibus, vulputate ligula quis, sollicitudin eros. Duis vitae aliquam nisi. Quisque congue rhoncus dui, ut auctor lacus mollis vitae. Proin tempor mollis quam, interdum lobortis tellus pulvinar non. Suspendisse varius sollicitudin sodales. Nullam commodo magna at dolor euismod, id euismod enim laoreet. Nullam ac ipsum in mi fermentum bibendum non sit amet felis. Cras vehicula felis tortor, convallis condimentum est varius vel. Etiam non odio ultrices, fringilla ligula nec, cursus metus. Pellentesque nisl felis, venenatis eget iaculis nec, sagittis vitae odio. Nullam luctus facilisis dictum. Sed elementum quis libero at viverra. Etiam ex dolor, blandit quis venenatis eu, aliquet sit amet erat. Morbi nec sapien in dui fermentum hendrerit. Maecenas felis eros, sollicitudin quis eleifend et, feugiat id enim.")),n.a.createElement(S,{size:"banner"}),n.a.createElement("article",{className:"card"},n.a.createElement("h3",null,"Lorem ipsum "),n.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin interdum nunc quam, et tincidunt nunc lobortis at. Vivamus vestibulum sagittis dapibus. Integer in ante tortor. Aliquam nec dolor neque. In magna massa, ultricies et risus a, efficitur consequat magna. Nunc varius lorem nisi. Aliquam fermentum maximus cursus. Integer eget nisl vitae magna vehicula ultricies. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Morbi malesuada in sapien sed commodo. Pellentesque vitae ornare magna. Aenean at nulla vitae mauris sollicitudin faucibus. Vivamus feugiat leo eget neque vestibulum, in elementum mi congue. Suspendisse pharetra, diam et vestibulum rhoncus, velit magna feugiat arcu, at cursus risus urna sed libero. Sed gravida, nulla in molestie auctor, nulla ex vulputate est, id viverra ligula ipsum quis felis. Curabitur purus erat, faucibus ut odio id, consectetur eleifend risus. Etiam nec turpis sed urna aliquet blandit. Ut in volutpat enim. Nunc tincidunt ex nulla, quis bibendum nibh ullamcorper in. Ut aliquam bibendum odio, vel interdum justo ullamcorper vel. Nulla eu cursus felis. Sed eget enim id lectus mattis eleifend nec vitae nisi. Sed metus urna, eleifend id scelerisque dictum, commodo a purus. Integer eget consequat nisl. Proin id ipsum luctus, sollicitudin risus nec, vulputate ipsum. Nulla in dui sit amet lectus pulvinar fringilla id sed elit. Quisque quis dolor dignissim, mattis odio quis, porttitor velit. Etiam sodales purus vitae elit suscipit, ut laoreet nisl blandit. Nunc sem leo, dictum ut dignissim ac, feugiat et ex. Sed in tincidunt turpis. Sed fermentum dui vel tellus semper, vel porttitor neque aliquam. Nulla aliquam rhoncus justo. Sed nulla purus, consectetur vitae erat eget, pharetra ullamcorper risus. Suspendisse ac ligula non lectus fermentum dignissim. Duis congue erat ac est blandit tempor. Donec fringilla nisi finibus, vulputate ligula quis, sollicitudin eros. Duis vitae aliquam nisi. Quisque congue rhoncus dui, ut auctor lacus mollis vitae. Proin tempor mollis quam, interdum lobortis tellus pulvinar non. Suspendisse varius sollicitudin sodales. Nullam commodo magna at dolor euismod, id euismod enim laoreet. Nullam ac ipsum in mi fermentum bibendum non sit amet felis. Cras vehicula felis tortor, convallis condimentum est varius vel. Etiam non odio ultrices, fringilla ligula nec, cursus metus. Pellentesque nisl felis, venenatis eget iaculis nec, sagittis vitae odio. Nullam luctus facilisis dictum. Sed elementum quis libero at viverra. Etiam ex dolor, blandit quis venenatis eu, aliquet sit amet erat. Morbi nec sapien in dui fermentum hendrerit. Maecenas felis eros, sollicitudin quis eleifend et, feugiat id enim."))))},N=function(){return n.a.createElement(O,{clientId:"client-233434"},n.a.createElement(y,null))};s.a.render(n.a.createElement(N,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.a720f590.chunk.js.map